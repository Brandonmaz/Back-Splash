{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/bmaz_/dev/FinalProject/BackSplash/App.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport * as Permissions from 'expo-permissions';\nimport * as MediaLibrary from 'expo-media-library';\nimport * as FileSystem from 'expo-file-system';\nimport axios from 'axios';\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height,\n    width = _Dimensions$get.width;\n\nvar App = function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this);\n\n    _this.loadWallpapers = function () {\n      axios.get('https://api.unsplash.com/photos/random?count=30&client_id=qoq6NUdLxF7YpT92ANivmEylYgk8vYUtmFgLaVupxBs').then(function (response) {\n        console.log(response.data);\n        this.setState({\n          images: response.data,\n          isLoading: false\n        });\n      }.bind(_assertThisInitialized(_this))).catch(function (error) {\n        console.log(error);\n      }).finally(function () {\n        console.log('request completed');\n      });\n    };\n\n    _this.saveToAllPhotos = function _callee(image) {\n      var cameraPermissions;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.getAsync(Permissions.MEDIA_LIBRARY));\n\n            case 2:\n              cameraPermissions = _context.sent;\n\n              if (!(cameraPermissions.status !== 'granted')) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.MEDIA_LIBRARY));\n\n            case 6:\n              cameraPermissions = _context.sent;\n\n            case 7:\n              if (cameraPermissions.status === 'granted') {\n                FileSystem.downloadAsync(image.urls.regular, FileSystem.documentDirectory + image.id + '.jpg').then(function (_ref) {\n                  var uri = _ref.uri;\n                  MediaLibrary.saveToLibraryAsync(uri);\n                  alert('Saved to photos');\n                }).catch(function (error) {\n                  console.log(error);\n                });\n              } else {\n                alert('Requires camera roll permission');\n              }\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.showControls = function (item) {\n      _this.setState(function (state) {\n        return {\n          isImagedFocused: !state.isImagedFocused\n        };\n      }, function () {\n        if (_this.state.isImagedFocused) {\n          Animated.spring(_this.state.scale, {\n            toValue: 0.85,\n            useNativeDriver: true\n          }).start();\n        } else {\n          Animated.spring(_this.state.scale, {\n            toValue: 1,\n            useNativeDriver: true\n          }).start();\n        }\n      });\n    };\n\n    _this.shareWallpaper = function _callee2(image) {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(Share.share({\n                message: 'Checkout this wallpaper ' + image.urls.full\n              }));\n\n            case 3:\n              _context2.next = 8;\n              break;\n\n            case 5:\n              _context2.prev = 5;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 5]], Promise);\n    };\n\n    _this.onLikePress = function () {\n      _this.setState({\n        isLiked: !_this.state.isLiked\n      });\n    };\n\n    _this.renderItem = function (_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'black',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: \"grey\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }\n      })), React.createElement(TouchableWithoutFeedback, {\n        onPress: function onPress() {\n          return _this.showControls(item);\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }\n      }, React.createElement(Animated.View, {\n        style: [{\n          height: height,\n          width: width\n        }, _this.scale],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }\n      }, React.createElement(Animated.Image, {\n        style: {\n          flex: 1,\n          height: null,\n          width: null,\n          borderRadius: _this.borderRadius\n        },\n        source: {\n          uri: item.urls.regular\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }\n      }))), React.createElement(Animated.View, {\n        style: {\n          position: 'absolute',\n          left: 0,\n          right: 0,\n          bottom: _this.bottomMenu,\n          height: 80,\n          flexDirection: 'row',\n          justifyContent: 'space-around'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        activeOpacity: 0.5,\n        onPress: function onPress() {\n          return _this.loadWallpapers();\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }\n      }, React.createElement(MaterialCommunityIcons, {\n        name: \"refresh\",\n        color: 'ghostwhite',\n        size: 35,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 15\n        }\n      }))), React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableOpacity, {\n        activeOpacity: 0.5,\n        onPress: function onPress() {\n          _this.saveToAllPhotos(item);\n\n          _this.onLikePress();\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }\n      }, React.createElement(MaterialCommunityIcons, {\n        name: \"heart-plus\",\n        size: 65,\n        color: _this.state.isLiked ? 'red' : 'ghostwhite',\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 15\n        }\n      }))), React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 10\n        }\n      }, React.createElement(TouchableOpacity, {\n        activeOpacity: 0.5,\n        onPress: function onPress() {\n          return _this.shareWallpaper(item);\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }\n      }, React.createElement(FontAwesome, {\n        name: \"slideshare\",\n        color: \"ghostwhite\",\n        size: 30,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }\n      })))));\n    };\n\n    _this.state = {\n      isLoading: true,\n      images: [],\n      isLiked: false,\n      scale: new Animated.Value(1),\n      isImagedFocused: false\n    };\n    _this.scale = {\n      transform: [{\n        scale: _this.state.scale\n      }]\n    };\n    _this.bottomMenu = _this.state.scale.interpolate({\n      inputRange: [0.87, 1],\n      outputRange: [0, -80]\n    });\n    _this.borderRadius = _this.state.scale.interpolate({\n      inputRange: [0.9, 1],\n      outputRange: [30, 0]\n    });\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadWallpapers();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.state.isLoading ? React.createElement(View, {\n        style: {\n          flex: 1,\n          backgroundColor: 'black',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 7\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: \"grey\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 9\n        }\n      })) : React.createElement(View, {\n        style: {\n          flex: 1,\n          backgroundColor: 'black'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 5\n        }\n      }, React.createElement(FlatList, {\n        scrollEnabled: !this.state.isImagedFocused,\n        vertical: true,\n        pagingEnabled: true,\n        data: this.state.images,\n        renderItem: this.renderItem,\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 7\n        }\n      }));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport { App as default };","map":{"version":3,"sources":["/Users/bmaz_/dev/FinalProject/BackSplash/App.js"],"names":["React","Permissions","MediaLibrary","FileSystem","axios","MaterialCommunityIcons","FontAwesome","Dimensions","get","height","width","App","loadWallpapers","then","response","console","log","data","setState","images","isLoading","bind","catch","error","finally","saveToAllPhotos","image","getAsync","MEDIA_LIBRARY","cameraPermissions","status","askAsync","downloadAsync","urls","regular","documentDirectory","id","uri","saveToLibraryAsync","alert","showControls","item","state","isImagedFocused","Animated","spring","scale","toValue","useNativeDriver","start","shareWallpaper","Share","share","message","full","onLikePress","isLiked","renderItem","flex","position","top","left","right","bottom","backgroundColor","alignItems","justifyContent","borderRadius","bottomMenu","flexDirection","Value","transform","interpolate","inputRange","outputRange","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { View, ActivityIndicator, FlatList, Dimensions, Image, Animated, TouchableWithoutFeedback, TouchableOpacity, Share } from 'react-native'\nimport * as Permissions from 'expo-permissions';\nimport * as MediaLibrary from 'expo-media-library';\nimport * as FileSystem from 'expo-file-system';\nimport axios from 'axios'\nimport MaterialCommunityIcons from 'react-native-vector-icons/MaterialCommunityIcons'\nimport FontAwesome from 'react-native-vector-icons/FontAwesome'\n\nconst {height, width} = Dimensions.get('window')\n\nexport default class App extends React.Component {\n\n  constructor(){\n    super()\n    this.state = {\n      isLoading : true,\n      images:[],\n      isLiked: false,\n      scale: new Animated.Value(1),\n      isImagedFocused: false,\n    }\n    this.scale = {\n      transform: [{scale:this.state.scale}]\n    }\n    this.bottomMenu = this.state.scale.interpolate({\n      inputRange: [0.87, 1],\n      outputRange: [0, -80]\n    })\n    this.borderRadius = this.state.scale.interpolate({\n      inputRange: [0.9, 1],\n      outputRange: [30, 0]\n    })\n  }\n\n  loadWallpapers = () => {\n    axios.get('https://api.unsplash.com/photos/random?count=30&client_id=qoq6NUdLxF7YpT92ANivmEylYgk8vYUtmFgLaVupxBs')\n    .then(\n      function(response){\n        console.log(response.data)\n        this.setState({images:response.data, isLoading:false})\n      }.bind(this)\n    )\n    .catch(function(error){\n      console.log(error)\n    })\n    .finally(function(){\n      console.log('request completed')\n    })\n  }\n\n  componentDidMount(){\n    this.loadWallpapers()\n  }\n  \n  saveToAllPhotos = async (image)=>{\n    let cameraPermissions = await Permissions.getAsync\n    (Permissions.MEDIA_LIBRARY)\n    if(cameraPermissions.status !== 'granted'){\n      cameraPermissions = await Permissions.askAsync\n      (Permissions.MEDIA_LIBRARY)\n    }\n    if(cameraPermissions.status === 'granted'){\n      FileSystem.downloadAsync(image.urls.regular, FileSystem.documentDirectory+image.id+'.jpg').then(({uri})=>{\n        MediaLibrary.saveToLibraryAsync(uri)\n        alert('Saved to photos')\n      }).catch(error=>{\n        console.log(error)\n      })\n    } else {\n      alert('Requires camera roll permission')\n    }\n  }\n\n  showControls = (item) => {\n    this.setState((state) => ({\n      isImagedFocused:!state.isImagedFocused\n    }), () => {\n      if(this.state.isImagedFocused){\n        Animated.spring(this.state.scale,{\n          toValue:0.85,\n          useNativeDriver: true\n        }).start()\n      } else {\n        Animated.spring(this.state.scale,{\n          toValue: 1,\n          useNativeDriver: true\n        }).start()\n      }\n    })\n  }\n  shareWallpaper = async (image) => {\n    try{\n      await Share.share({\n        message:'Checkout this wallpaper '+image.urls.full\n      })\n    } catch(error){\n      console.log(error)\n    }\n  }\n  onLikePress = () => {\n      this.setState({\n        isLiked: !this.state.isLiked\n      })\n    }\n  // combinedLikeSave = () => {\n  //   this.saveToAllPhotos()\n  //   this.onLikePress()\n  // }\n  renderItem = ({item}) => {\n    return (\n      <View style={{flex: 1}}>\n        <View\n          style={{\n            position: 'absolute', \n            top: 0, \n            left: 0, \n            right: 0, \n            bottom: 0, \n            backgroundColor: 'black',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}\n        >\n        <ActivityIndicator size=\"large\" color=\"grey\"/>\n        </View>\n        <TouchableWithoutFeedback onPress = {()=> this.showControls(item)}>\n          <Animated.View style={[{height, width}, this.scale]}>\n            <Animated.Image\n              style={{\n                flex: 1, \n                height: null, \n                width: null,\n                borderRadius: this.borderRadius\n              }}\n              source= {{uri: item.urls.regular}}\n              // source={{uri: item.location}}\n            />\n          </Animated.View>\n        </TouchableWithoutFeedback>\n        <Animated.View \n          style={{\n            position:'absolute',\n            left: 0,\n            right: 0,\n            bottom: this.bottomMenu,\n            height: 80,\n            flexDirection:'row',\n            justifyContent: 'space-around'\n          }}>\n        <View \n          style={{\n            flex: 1, \n            alignItems: 'center', \n            justifyContent: 'center'\n          }}>\n          <TouchableOpacity activeOpacity={0.5} onPress={() => this.loadWallpapers()}>\n              <MaterialCommunityIcons name={\"refresh\"} color={'ghostwhite'} size={35}/>\n          </TouchableOpacity>\n        </View>\n        <View \n          style={{\n            flex: 1, \n            alignItems: 'center', \n            justifyContent: 'center',\n          }}>\n          <TouchableOpacity activeOpacity={0.5} onPress={() =>  {this.saveToAllPhotos(item); this.onLikePress()}} >\n              <MaterialCommunityIcons name={\"heart-plus\"} size={65} color={this.state.isLiked ? 'red' : 'ghostwhite'} />\n          </TouchableOpacity>\n        </View>\n         <View \n          style={{\n            flex: 1, \n            alignItems: 'center', \n            justifyContent: 'center'\n          }}>\n          <TouchableOpacity activeOpacity={0.5} onPress={() => this.shareWallpaper(item)}>\n            <FontAwesome name={\"slideshare\"} color=\"ghostwhite\" size={30}/>\n          </TouchableOpacity>\n        </View>\n        </Animated.View>\n      </View>\n    )\n  }\n\n  render() {\n    return  this.state.isLoading ? (\n      <View \n        style= {{\n          flex: 1, \n          backgroundColor: 'black', \n          alignItems: 'center', \n          justifyContent: 'center',\n        }}\n      >\n        <ActivityIndicator size=\"large\" color=\"grey\"/>\n      </View>\n    ) :\n    <View style={{flex: 1, backgroundColor: 'black'}}>\n      <FlatList\n        scrollEnabled={!this.state.isImagedFocused}\n        vertical\n        pagingEnabled\n        data={this.state.images}\n        renderItem={this.renderItem}\n        keyExtractor={item => item.id}\n      />\n    </View>\n  }\n}\n// Access Key\n// qoq6NUdLxF7YpT92ANivmEylYgk8vYUtmFgLaVupxBs\n\n// Secret Key\n// VkrTTVWLwID056AO_0eSQ-zD6_PlLdwcV_SoqGNnLNQ"]},"metadata":{},"sourceType":"module"}